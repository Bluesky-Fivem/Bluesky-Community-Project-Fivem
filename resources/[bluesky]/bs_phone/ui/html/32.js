(window.webpackJsonp=window.webpackJsonp||[]).push([[32,68],{1037:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a(516).renderToStaticMarkup;var r=a(1145),n=a(1146),o=function(e){return n(r.sanitize(e))}},1054:function(e,t,a){"use strict";var r=a(1),n=a(5),o=a(0),i=(a(2),a(6)),l=a(8),c=a(11),s=a(540),u=o.forwardRef((function(e,t){var a=e.classes,l=e.className,u=e.color,d=void 0===u?"primary":u,f=e.position,p=void 0===f?"fixed":f,m=Object(n.a)(e,["classes","className","color","position"]);return o.createElement(s.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(i.a)(a.root,a["position".concat(Object(c.a)(p))],a["color".concat(Object(c.a)(d))],l,"fixed"===p&&"mui-fixed"),ref:t},m))}));t.a=Object(l.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(u)},1291:function(e,t,a){"use strict";var r=a(181);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(253)).default)(n.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=o},1292:function(e,t,a){"use strict";var r=a(181);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(253)).default)(n.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=o},1293:function(e,t,a){"use strict";var r=a(181);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(253)).default)(n.default.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"GpsFixed");t.default=o},513:function(e,t,a){"use strict";a.r(t),a.d(t,"ReadEmail",(function(){return l})),a.d(t,"DeleteEmail",(function(){return c})),a.d(t,"GPSRoute",(function(){return s}));var r=a(23);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=function(e,t){return function(a){r.a.send("ReadEmail",e).then((function(){a({type:"SET_DATA",payload:{type:"emails",data:t.map((function(t){return o(o({},t),{},{unread:t._id!==e&&t.unread})}))}})})).catch((function(e){}))}},c=function(e){return function(t){r.a.send("DeleteEmail",e).then((function(){return t({type:"REMOVE_DATA",payload:{type:"emails",id:e}}),!0})).catch((function(e){return!1}))}},s=function(e,t){return function(a){r.a.send("GPSRoute",{id:e,location:t}).then((function(e){a({type:"ALERT_SHOW",payload:{alert:"GPS Marked"}})})).catch((function(e){a({type:"ALERT_SHOW",payload:{alert:"Unable To Mark Location On GPS"}})}))}}},558:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),i=a(51),l=a(502),c=a(1054),s=a(99),u=a(474),d=a(242),f=a(222),p=a(543),m=a(540),b=a(103),g=a.n(b),y=a(1037),h=a(513),v=a(102),E=a(1291),x=a.n(E),w=a(1292),O=a.n(w),k=a(1293),j=a.n(k);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var D=Object(l.a)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},titleBar:{padding:15,textAlign:"center"},senderBar:{padding:15,textAlign:"left",lineHeight:"30px",backgroundColor:e.palette.secondary.light},sendTime:{color:e.palette.text.main},expireBar:{padding:15,textAlign:"center",background:e.palette.error.main},emailTitle:{fontSize:20,fontWeight:"bold",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},avatar:{color:e.palette.text.light,height:55,width:55,position:"relative",top:0},sender:{fontSize:18,color:e.palette.text.light},recipient:{fontSize:14,color:e.palette.text.main},emailBody:{padding:20,background:e.palette.secondary.dark},gps:{position:"absolute",right:0,top:"40%"}}})),T={lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"[last] dddd [at] LT",nextWeek:"dddd [at] LT",sameElse:"L"};t.default=Object(o.b)(null,{showAlert:v.a,ReadEmail:h.ReadEmail,DeleteEmail:h.DeleteEmail,GPSRoute:h.GPSRoute})((function(e){var t=D(),a=Object(i.e)(),l=e.match.params.id,b=Object(o.d)((function(e){return e.data.data.emails})),h=b.filter((function(e){return e._id===l}))[0];Object(r.useEffect)((function(){var t=null;return h.unread&&e.ReadEmail(h._id,b),null!=h.flags&&null!=h.flags.expires&&(h.flags.expires<Date.now()?(e.showAlert("Email Has Expired"),e.DeleteEmail(h._id),a.goBack()):t=setInterval((function(){h.flags.expires<Date.now()&&(e.showAlert("Email Has Expired"),e.DeleteEmail(h._id),a.goBack())}),2500)),function(){clearInterval(t)}}),[]);var v=S(Object(r.useState)(!1),2),E=v[0],w=v[1],k=S(Object(r.useState)({left:110,top:0}),2),A=k[0],P=k[1],_=function(){w(!1)};return n.a.createElement("div",{className:t.wrapper},n.a.createElement(c.a,{position:"static"},n.a.createElement(s.a,{container:!0,className:t.titleBar},n.a.createElement(s.a,{item:!0,xs:2,style:{textAlign:"left"}},n.a.createElement(u.a,{onClick:function(){return a.goBack()}},n.a.createElement(x.a,null))),n.a.createElement(s.a,{item:!0,xs:8,className:t.emailTitle,title:h.subject},h.subject),n.a.createElement(s.a,{item:!0,xs:2,style:{textAlign:"right"}},n.a.createElement(u.a,{onClick:function(e){e.preventDefault(),P({left:e.clientX-2,top:e.clientY-4}),w(!0)}},n.a.createElement(O.a,null)))),n.a.createElement(s.a,{container:!0,className:t.senderBar},n.a.createElement(s.a,{item:!0,xs:2},n.a.createElement(d.a,{className:t.avatar},h.sender.charAt(0))),n.a.createElement(s.a,{item:!0,xs:6,style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},n.a.createElement("div",{className:t.sender,title:h.sender},h.sender.split("@")[0]),n.a.createElement("div",{className:t.recipient},"to: me")),n.a.createElement(s.a,{item:!0,xs:4,style:{textAlign:"right",position:"relative"}},n.a.createElement("span",{className:t.sendTime},n.a.createElement(g.a,{interval:6e4,fromNow:!0},+h.time)),null!=h.flags&&null!=h.flags.location?n.a.createElement(u.a,{className:t.gps,onClick:function(){null!=h.flags&&null!=h.flags.location&&e.GPSRoute(h._id,h.flags.location)}},n.a.createElement(j.a,null)):null))),n.a.createElement(f.a,{anchorReference:"anchorPosition",anchorPosition:A,keepMounted:!0,open:E,onClose:_},n.a.createElement(p.a,{onClick:function(){_(),e.showAlert("Email Deleted"),e.DeleteEmail(h._id),a.goBack()}},"Delete Email")),null!=h.flags&&null!=h.flags.expires?n.a.createElement(c.a,{className:t.expireBar,position:"static"},n.a.createElement("div",null,"Email expires"," ",n.a.createElement(g.a,{interval:1e4,calendar:T,fromNow:!0},+h.flags.expires))):null,n.a.createElement(m.a,{className:t.emailBody,style:{height:null!=h.flags&&null!=h.flags.expires?"74.5%":"81%"}},Object(y.a)(h.body)))}))}}]);